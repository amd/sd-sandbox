# Pipeline Configuration File
# This file defines all available pipeline configurations and settings

# Project paths configuration
paths:
  # Path to the source code directory containing src/ and utils/
  # If not specified, will use the parent directory of the scripts folder
  source_path: null  # Example: "C:\\\\Users\\\\amd87\\\\Desktop\\\\GenAI-SD"
  
  # Path to models directory (relative to source_path if not absolute)
  models_path: "C:/Users/amd87/GenAI-SD/models"
  
  # Path to test scripts directory (relative to source_path if not absolute)
  test_path: "C:/Users/amd87/Desktop/sd-sandbox/test"

# Default settings
defaults:
  width: 512
  height: 512
  # Streaming display settings
  streaming_output: true # Enable real-time output by default
  # Execution provider settings
  execution:
    force_cpu: false  # Set to true to force CPU-only execution (disables DML)
  # Custom operator library path (optional)
  # If not specified, runner_args.py will search in standard locations
  # Example: "C:/Program Files/RyzenAI/1.7.0/deployment/onnx_custom_ops.dll"
  custom_op_path: "C:/Program Files/RyzenAI/1.7.0/deployment/onnx_custom_ops.dll"

  prompts:
    medieval: "Photo of a bustling medieval marketplace, vibrant colors, detailed costumes, lively crowd, cinematic lighting, 8k resolution, masterpiece, art by Pieter Bruegel and John Howe"
    anime: 'Anime style illustration of a girl wearing a suit. A moon in sky. In the background we see a big rain approaching. text "InstantX" on image'
  prompt_file: "C:/Users/amd87/Desktop/sd-sandbox/config/artistic_prompts.json"

# Available pipeline configurations
pipelines:

# Default prompt for 1.5 : Photo of a ultra realistic sailing ship, dramatic light, pale sunrise, cinematic lighting
  sd_15:
    name: "SD 1.5 Pipeline"
    script: "run_sd.py"
    execution:
      force_cpu: false
    # prompt_file: "C:/Users/amd87/Desktop/sd-sandbox/config/anime_prompts.json"
    model_ids:
      - "runwayml/stable-diffusion-v1-5"
    extra_args:
      - "--model_path"
      - "sd15_bfp"
      - "--num_inference_steps"
      - "20"

# Default prompt: "A cinematic shot of a baby racoon wearing an intricate italian priest robe."
  sd_turbo:
    name: "SD Turbo Pipeline"
    script: "run_sd.py"
    streaming_output: true # Disable streaming for fast pipelines to reduce noise
    # Execution provider settings (overrides defaults)
    model_ids:
      - "stabilityai/sd-turbo"
    # prompt_file: "C:/Users/amd87/Desktop/sd-sandbox/config/alt_prompts.json"
    extra_args:
      - "--model_path"
      - "sd_turbo_bfp"
      - "--num_inference_steps"
      - "1"
      - "--guidance_scale"
      - "0.0"

  sd_turbo_bs1:
    name: "SD Turbo BS1 Pipeline"
    script: "run_sd.py"
    streaming_output: false # Disable streaming for fast pipelines to reduce noise
    model_ids:
      - "stabilityai/sd-turbo"
    extra_args:
      - "--model_path"
      - "sd_turbo_bs1_bfp"
      - "--num_inference_steps"
      - "1"
      - "--guidance_scale"
      - "0.0"
      - "--num_images_per_prompt"
      - "1"

# Default prompt: "An astronaut riding a green horse"
  sdxl_base:
    name: "SDXL Base Pipeline"
    script: "run_sd_xl.py"
    width: 1024  # SDXL requires 1024x1024 for 128x128 latents
    height: 1024
    streaming_output: true  # Enable to see error output
    model_ids:
      - "stabilityai/stable-diffusion-xl-base-1.0"
    extra_args:
      - "--model_path"
      - "sdxl-base-1.0_bfp"
      - "--num_inference_steps"
      - "50"

# Default prompt: "An astronaut riding a green horse"
  Segmind_Vega:
    name: "Segmind-Vega Pipeline"
    script: "run_sd_xl.py"
    width: 1024  # SDXL requires 1024x1024 for 128x128 latents
    height: 1024
    streaming_output: true  # Enable to see error output
    model_ids:
      - "segmind/Segmind-Vega"
    extra_args:
      - "--model_path"
      - "Segmind-Vega_bfp"
      - "--num_inference_steps"
      - "50"

# Default prompt: "A cinematic shot of a baby racoon wearing an intricate italian priest robe."
  sdxl_turbo:
    name: "SDXL Turbo Pipeline"
    script: "run_sd_xl.py"
    width: 512  # SDXL Turbo optimized for 512x512 for speed
    height: 512
    prompt: "A cat sitting on a fluffy cloud, reading a book, whimsical and dreamy atmosphere"
    model_ids:
      - "stabilityai/sdxl-turbo"
    extra_args:
      - "--model_path"
      - "sdxl_turbo_bfp"
      - "--num_inference_steps"
      - "1"
      - "--guidance_scale"
      - "0.0"

  sdxl_turbo_bs1:
    name: "SDXL Turbo BS1 Pipeline"
    script: "run_sd_xl.py"
    width: 512  # BS1 model optimized for 512x512 resolution
    height: 512
    model_ids:
      - "stabilityai/sdxl-turbo"
    extra_args:
      - "--model_path"
      - "sdxl_turbo_bs1_bfp"
      - "--num_inference_steps"
      - "1"
      - "--guidance_scale"
      - "0.2"
      - "--num_images_per_prompt"
      - "1"

# Default prompt: "a blue paradise bird in the jungle",
  segmind_vega:
    name: "Segmind-Vega Pipeline"
    script: "run_sd_xl.py"
    width: 1024
    height: 1024
    streaming_output: true # Disable streaming for progress bar
    model_ids:
      - "segmind/Segmind-Vega"
    extra_args:
      - "--model_path"
      - "Segmind-Vega_bfp"
      - "--num_inference_steps"
      - "20"

## SD 2
# Default prompt: "A photo of an astronaut riding a horse on mars."
  sd21_base:
    name: "SD21 Base Pipeline"
    script: "run_sd.py"
    width: 512
    height: 512
    model_ids:
      - "stabilityai/stable-diffusion-2-1-base"
    extra_args:
      - "--model_path"
      - "sd21_base_bfp"
      - "--num_inference_steps"
      - "50"
  
  sd21_v:
    name: "SD21 V-Param Pipeline"
    script: "run_sd.py"
    width: 768
    height: 768
    model_ids:
      - "stabilityai/stable-diffusion-2-1"
    extra_args:
      - "--model_path"
      - "sd-2.1-v_bfp"
      - "--num_inference_steps"
      - "50"




# Default pipelines to run (if no --pipelines specified)
# You can specify which pipelines to run by their keys from the pipelines section above
default_run:
  - sd_15
  - sd_turbo

# Available pipeline groups for convenience
pipeline_groups:
  
  all_sdxl:
    - sdxl_base
    - sdxl_turbo
    - sdxl_turbo_bs1
  
  quick_test:
    - sd_turbo
    - sd_turbo_bs1
    - sdxl_turbo
    - sdxl_turbo_bs1
  
  
  sd_21:
    - sd21_base
    - sd21_v
  
  turbo_models:
    - sd_turbo
    - sd_turbo_bs1
    - sdxl_turbo
    - sdxl_turbo_bs1

  all:
    - sd_15
    - sd_turbo
    - sd_turbo_bs1
    - sdxl_base
    - sdxl_turbo
    - sdxl_turbo_bs1
    - sd21_base
    - sd21_v
    - segmind_vega
